{% extends "base.html" %}

{% block content %}
<article class="section">
  <header class="section__header">
    <h1>{{ section.title }}</h1>
    {% if section.description %}
      <p class="section__description">{{ section.description }}</p>
    {% endif %}
  </header>

  <div class="section__content">
    {% if section.content %}
      {{ section.content | safe }}
    {% endif %}

    {% if section.pages %}
      <ol class="section__list">
        {% for page in section.pages %}
          <li class="section__item">
            <article class="section__preview">
              <header class="section__preview-header">
                <h2><a href="{{ page.permalink }}">{{ page.title }}</a></h2>
                {% if page.date %}
                  <time datetime="{{ page.date }}">{{ page.date | date(format="%B %d, %Y") }}</time>
                {% endif %}
              </header>
              {% if page.description %}
                <p class="section__preview-description">{{ page.description }}</p>
              {% endif %}
            </article>
          </li>
        {% endfor %}
      </ol>
    {% endif %}

    {% if section.subsections %}
      <nav class="section__categories">
        <h2>Categories</h2>
        <ul class="section__categories-list">
          {% for subsection in section.subsections %}
            <li class="section__categories-item"><a href="{{ subsection.permalink }}">{{ subsection.title }}</a></li>
          {% endfor %}
        </ul>
      </nav>
    {% endif %}
  </div>
</article>
{% endblock content %}