{% extends "base.html" %}

{% block title %}{{ taxonomy.name | title }}: {{ term.name }} | {{ config.title }}{% endblock title %}

{% block content %}
<main class="taxonomy-term">
  <header>
    <h1>{{ taxonomy.name | title }}: {{ term.name }}</h1>
  </header>

  {% if paginator %}
  <section class="term-posts">
    <ul class="post-list">
      {% for page in paginator.pages %}
      <li class="post-item">
        <article>
          <header>
            <h2 class="post-title">
              <a href="{{ page.permalink }}">{{ page.title }}</a>
            </h2>
            {% if page.date %}
            <time datetime="{{ page.date | date(format='%Y-%m-%d') }}">
              {{ page.date | date(format="%B %d, %Y") }}
            </time>
            {% endif %}
          </header>
          {% if page.description %}
          <p class="post-description">{{ page.description }}</p>
          {% endif %}
        </article>
      </li>
      {% endfor %}
    </ul>

    {% if paginator.previous or paginator.next %}
    <nav class="pagination">
      {% if paginator.previous %}
      <a class="prev" href="{{ paginator.previous }}">← Previous</a>
      {% endif %}
      
      <span class="page-number">Page {{ paginator.current_index }} of {{ paginator.number_pagers }}</span>
      
      {% if paginator.next %}
      <a class="next" href="{{ paginator.next }}">Next →</a>
      {% endif %}
    </nav>
    {% endif %}
  </section>
  {% else %}
  <p>No posts found with this {{ taxonomy.name }}.</p>
  {% endif %}
</main>
{% endblock content %}